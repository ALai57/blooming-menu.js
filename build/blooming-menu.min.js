/**
 * blooming-menu - A configurable and animated radial menu for the web
 *
 * @version v1.0.0
 * @link https://github.com/caiogondim/blooming-menu
 * @author Caio Gondim <me@caiogondim.com> (http://caiogondim.com)
 * @license ISC
 */
!function(){"use strict";function e(n){return this instanceof e?(this.props={},t.call(this,n),void(this.state={isOpen:!1,isBeingAnimated:!1})):new e(n)}function t(e){if(e=e||{},void 0===e.itensNum)throw new Error("`opts.itensNum` must be declared");this.props.itensNum=e.itensNum,this.props.startAngle=void 0===e.startAngle?90:e.startAngle,this.props.endAngle=void 0===e.endAngle?0:e.endAngle,this.props.radius=e.radius||80,this.props.itemAnimationDelay=e.itemAnimationDelay||.04,this.props.animationDuration=e.animationDuration||.4,this.props.fatherElement=e.fatherElement||document.body,this.props.elements={},this.props.itemWidth=e.itemWidth||50,this.props.containerCSSClass=e.containerCSSClass||"blooming-menu__container",this.props.mainCSSClass=e.mainCSSClass||"blooming-menu__main",this.props.mainContent=e.mainContent||"+",this.props.itensContainerCSSClass=e.itensContainerCSSClass||"blooming-menu__itens",this.props.itensCSSClass=e.itensCSSClass||"blooming-menu__item"}function n(e){e.elements.styleSheet=document.createElement("style"),document.head.appendChild(e.elements.styleSheet),e.elements.container=document.createElement("div"),e.elements.container.classList.add(e.containerCSSClass),e.elements.mainContainer=document.createElement("div"),e.elements.mainContainer.classList.add("blooming-menu__main-container"),e.elements.main=document.createElement("button"),e.elements.main.classList.add(e.mainCSSClass),e.elements.mainContent=document.createElement("span"),e.elements.mainContent.classList.add("blooming-menu__main-content"),e.elements.mainContent.innerHTML=e.mainContent,e.elements.mainContainer.appendChild(e.elements.main),e.elements.main.appendChild(e.elements.mainContent),e.elements.container.appendChild(e.elements.mainContainer),e.elements.itens=[],e.elements.itensContainer=document.createElement("ul"),e.elements.itensContainer.classList.add(e.itensContainerCSSClass),e.elements.container.appendChild(e.elements.itensContainer);for(var t=0;t<e.itensNum;t++){var n=document.createElement("li");n.classList.add(e.itensCSSClass),n.style.opacity=0;var i=document.createElement("div");i.classList.add("blooming-menu__item-btn-wrapper");var a=document.createElement("button");a.classList.add("blooming-menu__item-btn"),i.appendChild(a),n.appendChild(i),e.elements.itensContainer.appendChild(n),e.elements.itens.push(n)}e.fatherElement.appendChild(e.elements.container),setTimeout(function(){e.elements.itens.forEach(function(e){e.style.opacity=1})},1e3*(e.itemAnimationDelay*e.itensNum+e.animationDuration))}function i(e){var t=(e.endAngle-e.startAngle)/(e.itensNum-1),n=e.startAngle,i="";e.elements.itens.forEach(function(s,o){var m=e.radius*Math.cos(a(n)),r=e.radius*Math.sin(a(n)),l=Number(m.toFixed(2)),c=Number(r.toFixed(2)),p=1.2*l,d=1.2*c,u=0,f=0;i+="@keyframes expand-item-"+o+" {0% {transform: translate("+u+"px, "+f+"px)}70% {transform: translate("+p+"px, "+d+"px)}100% {transform: translate("+l+"px, "+c+"px)}}@-webkit-keyframes expand-item-"+o+" {0% {-webkit-transform: translate("+u+"px, "+f+"px)}70% {-webkit-transform: translate("+p+"px, "+d+"px)}100% {-webkit-transform: translate("+l+"px, "+c+"px)}}",i+="@keyframes contract-item-"+o+" {100% {transform: translate("+u+"px, "+f+"px)}30% {transform: translate("+p+"px, "+d+"px)}0% {transform: translate("+l+"px, "+c+"px)}}@-webkit-keyframes contract-item-"+o+" {100% {-webkit-transform: translate("+u+"px, "+f+"px)}30% {-webkit-transform: translate("+p+"px, "+d+"px)}0% {-webkit-transform: translate("+l+"px, "+c+"px)}}",i+="."+e.itensCSSClass+":nth-of-type("+(o+1)+") {animation-delay: "+o*e.itemAnimationDelay+"s;animation-duration: "+e.animationDuration+"s;animation-timing-function: ease-out;animation-name: contract-item-"+o+";animation-fill-mode: backwards;}."+e.itensCSSClass+":nth-of-type("+(o+1)+") {-webkit-animation-delay: "+o*e.itemAnimationDelay+"s;-webkit-animation-duration: "+e.animationDuration+"s;-webkit-animation-timing-function: ease-out;-webkit-animation-name: contract-item-"+o+";-webkit-animation-fill-mode: backwards;}",i+="."+e.itensCSSClass+".is-active:nth-of-type("+(o+1)+") {animation-name: expand-item-"+o+";animation-fill-mode: forwards;}."+e.itensCSSClass+".is-active:nth-of-type("+(o+1)+") {-webkit-animation-name: expand-item-"+o+";-webkit-animation-fill-mode: forwards;}",i+="."+e.itensCSSClass+":nth-of-type("+(o+1)+") .blooming-menu__item-btn-wrapper.is-selected {animation-name: select-item;animation-fill-mode: forwards;animation-duration: "+e.animationDuration+"s;animation-timing-function: ease-out;}."+e.itensCSSClass+":nth-of-type("+(o+1)+") .blooming-menu__item-btn-wrapper.is-selected {-webkit-animation-name: select-item;-webkit-animation-fill-mode: forwards;-webkit-animation-duration: "+e.animationDuration+"s;-webkit-animation-timing-function: ease-out;}",i+="."+e.itensCSSClass+":nth-of-type("+(o+1)+") .blooming-menu__item-btn-wrapper.is-not-selected {animation-name: not-select-item;animation-fill-mode: forwards;animation-duration: "+e.animationDuration+"s;animation-timing-function: ease-out;}."+e.itensCSSClass+":nth-of-type("+(o+1)+") .blooming-menu__item-btn-wrapper.is-not-selected {-webkit-animation-name: not-select-item;-webkit-animation-fill-mode: forwards;-webkit-animation-duration: "+e.animationDuration+"s;-webkit-animation-timing-function: ease-out;}",n+=t}),i+="@keyframes select-item {0% {transform: scale(1);opacity: 1;}100% {transform: scale(2);opacity: 0;}}@-webkit-keyframes select-item {0% {-webkit-transform: scale(1);opacity: 1;}100% {-webkit-transform: scale(2);opacity: 0;}}",i+="@keyframes not-select-item {0% {transform: scale(1);opacity: 1;}100% {transform: scale(0);opacity: 0;}}@-webkit-keyframes not-select-item {0% {-webkit-transform: scale(1);opacity: 1;}100% {-webkit-transform: scale(0);opacity: 0;}}",e.elements.styleSheet.innerHTML=i}function a(e){return e*(Math.PI/180)}function s(e){e.container.parentNode.removeChild(e.container)}function o(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",webkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function m(e){e.props.elements.main.addEventListener("click",function(t){e.state.isOpen?e.close():e.open()}),e.props.elements.itens.forEach(function(t,n){t.addEventListener("click",function(t){e.selectItem(n)})})}function r(e){e.props.elements.main.removeEventListener("click"),e.props.elements.main.removeEventListener("touchstart")}e.prototype.render=function(){n(this.props),i(this.props),m(this)},e.prototype.remove=function(){r(this),s(this)},e.prototype.open=function(){this.props.elements.main.classList.add("is-active"),this.props.elements.itens.forEach(function(e){e.style.display="block",e.classList.remove("is-selected"),e.classList.add("is-active")}),this.state.isOpen=!0},e.prototype.close=function(){this.props.elements.main.classList.remove("is-active"),this.props.elements.main.classList.add("is-inactive"),this.props.elements.itens.forEach(function(e){e.classList.remove("is-active")});var e=document.querySelectorAll(".blooming-menu__item-btn-wrapper");[].forEach.call(e,function(e){e.classList.remove("is-selected"),e.classList.remove("is-not-selected")}),this.state.isOpen=!1},e.prototype.selectItem=function(e){var t=this,n=document.querySelector(".blooming-menu__item-btn-wrapper");n.addEventListener(o(),function(){t.close(),t.props.elements.itens.forEach(function(e){e.style.display="none"}),document.querySelector(".blooming-menu__item-btn-wrapper").removeEventListener(o())}),this.props.elements.itens.forEach(function(t,n){t.querySelector(".blooming-menu__item-btn-wrapper").classList.add(n!==e?"is-not-selected":"is-selected")})},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e:"undefined"!=typeof window&&(window.BloomingMenu=e)}();